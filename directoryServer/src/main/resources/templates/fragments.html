
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>An Error Occurred</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>

<div th:fragment="user">

    <form name="userForm"  ng-submit="userForm.$valid && usersCtrl.save(user)" novalidate="novalidate" class="glow">
        <div class="sub-nav">
            <div class="inner-margin7">
                <div ng-show="!usersCtrl.showForm(user)">

                    <h1><a ng-href="#user/{{user.id}}">{{user.name}}</a></h1>
                    <div>
                        <label><b>Title:</b></label>
                        <span>{{user.title}}</span>
                    </div>
                    <div>
                        <label><b>Address:</b></label>
                        <span>{{user.address}}</span>
                    </div>

                    <div>
                        <label><b>Phone:</b></label>
                        <span>{{user.phone}}</span>
                    </div>
                    <div>
                        <label><b>Email:</b></label>
                        <span>{{user.email}}</span>
                    </div>
                    <div>
                        <label><b>Roles:</b></label>
                            <span ng-repeat="role in user.roles | orderBy:'name'">
                                <span>{{role.name  | friendlyRoleName}}{{$last ? '' : ', '}}</span>
                            </span>
                    </div>

                </div>

                <div ng-show="usersCtrl.showForm(user)">
                    <h1>
                        <input type="text" placeholder="Name" required="required" ng-model="user.name" ng-class="{ jw : userForm.$submitted === true}"> </input>
                    </h1>
                    <div>
                        <label><b>Title:</b></label>
                            <span>
                                 <input type="text" placeholder="Title" ng-model="user.title" > </input>
                            </span>
                    </div>
                    <div>
                        <label><b>Address:</b></label>
                            <span>
                                 <input type="text" placeholder="Address" ng-model="user.address" style="min-width: 375px;" > </input>
                            </span>
                    </div>

                    <div>
                        <label><b>Phone:</b></label>
                            <span>
                                 <input type="tel" placeholder="Phone" ng-model="user.phone" > </input>
                            </span>
                    </div>
                    <div>
                        <label><b>Email:</b></label>
                            <span>
                                 <input type="email" placeholder="Email" ng-model="user.email" style="min-width: 375px;"  > </input>
                            </span>
                    </div>
                    <div>
                        <label><b>Roles:</b></label>
                              <span ng-repeat="role in usersCtrl.roles">
                           <span  class="checkbox-inline"> <input
                                   type="checkbox"
                                   ng-checked="usersCtrl.hasRole(user, role)"
                                   name="roles"
                                   ng-click="usersCtrl.updateRole($event, role, user)"> {{role.name | friendlyRoleName}} </span>
                        </span>
                    </div>
                    <div ng-show="usersCtrl.isNewAccount(user)">
                        <div>
                            <label><b>Username:</b></label>
                            <input type="text" placeholder="Username" ng-model="user.username" style="min-width: 375px;"  > </input>

                        </div>
                        <div>
                            <label><b>Password:</b></label>
                            <input type="password" placeholder="Password" ng-model="user.password" style="min-width: 375px;"  > </input>

                        </div>
                    </div>
                </div>
            </div>
            <div th:if="${hasOrgAdminRole}" style="float: right;">
                <div class="btn-group">
                    <button ng-show="!usersCtrl.showForm(user)" type="button" class="btn btn-default" ng-click="usersCtrl.edit(user)">
                        <span class="glyphicon glyphicon-pencil"></span> Edit
                    </button>
                    <button ng-show="usersCtrl.showForm(user)" type="submit" class="btn btn-default">
                        <span class="glyphicon glyphicon-floppy-disk"></span> Save
                    </button>
                    <button type="button" uib-popover-template="'delete-user.html'" popover-trigger="focus" popover-placement="right" class="btn btn-default">
                        <span class="glyphicon glyphicon-remove-circle"></span> Delete
                    </button>

                </div>
            </div>

        </div>
    </form>

</div>

<div th:fragment="user-details">
    <form name="userForm"  ng-submit="userForm.$valid && userCtrl.save()" novalidate="novalidate" class="glow">
        <div class="sub-nav">
            <div class="inner-margin7">
                <div ng-show="!userCtrl.showForm()">

                    <h1>{{userCtrl.user.name}}</h1>
                    <div>
                        <label><b>Title:</b></label>
                        <span>{{userCtrl.user.title}}</span>
                    </div>
                    <div>
                        <label><b>Address:</b></label>
                        <span>{{userCtrl.user.address}}</span>
                    </div>

                    <div>
                        <label><b>Phone:</b></label>
                        <span>{{userCtrl.user.phone}}</span>
                    </div>
                    <div>
                        <label><b>Email:</b></label>
                        <span>{{userCtrl.user.email}}</span>
                    </div>
                    <div>
                        <label><b>Roles:</b></label>
                            <span ng-repeat="role in userCtrl.user.roles | orderBy:'name'">
                                <span>{{role.name  | friendlyRoleName}}{{$last ? '' : ', '}}</span>
                            </span>
                    </div>

                </div>

                <div ng-show="userCtrl.showForm()">
                    <h1>
                        <input type="text" placeholder="Name" required="required" ng-model="userCtrl.user.name" ng-class="{ jw : userForm.$submitted === true}"> </input>
                    </h1>
                    <div>
                        <label><b>Title:</b></label>
                            <span>
                                 <input type="text" placeholder="Title" ng-model="userCtrl.user.title" > </input>
                            </span>
                    </div>
                    <div>
                        <label><b>Address:</b></label>
                            <span>
                                 <input type="text" placeholder="Address" ng-model="userCtrl.user.address" style="min-width: 375px;" > </input>
                            </span>
                    </div>

                    <div>
                        <label><b>Phone:</b></label>
                            <span>
                                 <input type="tel" placeholder="Phone" ng-model="userCtrl.user.phone" > </input>
                            </span>
                    </div>
                    <div>
                        <label><b>Email:</b></label>
                            <span>
                                 <input type="email" placeholder="Email" ng-model="userCtrl.user.email" style="min-width: 375px;"  > </input>
                            </span>
                    </div>
                    <div>
                        <label><b>Roles:</b></label>
                              <span ng-repeat="role in userCtrl.roles">
                           <span  class="checkbox-inline"> <input
                                   type="checkbox"
                                   ng-checked="userCtrl.hasRole(role)"
                                   name="roles"
                                   ng-click="userCtrl.updateRole($event, role)"> {{role.name | friendlyRoleName}} </span>
                        </span>
                    </div>
                    <div ng-show="userCtrl.isNewAccount()">
                        <div>
                            <label><b>Username:</b></label>
                            <input type="text" placeholder="Username" ng-model="userCtrl.user.username" style="min-width: 375px;"  > </input>

                        </div>
                        <div>
                            <label><b>Password:</b></label>
                            <input type="password" placeholder="Password" ng-model="userCtrl.user.password" style="min-width: 375px;"  > </input>

                        </div>
                    </div>
                </div>
            </div>
            <div th:if="${hasOrgAdminRole}" style="float: right;">
                <div class="btn-group">
                    <button ng-show="!userCtrl.showForm()" type="button" class="btn btn-default" ng-click="userCtrl.edit()">
                        <span class="glyphicon glyphicon-pencil"></span> Edit
                    </button>
                    <button ng-show="userCtrl.showForm()" type="submit" class="btn btn-default">
                        <span class="glyphicon glyphicon-floppy-disk"></span> Save
                    </button>
                    <button type="button" uib-popover-template="'delete-user.html'" popover-trigger="focus" popover-placement="right" class="btn btn-default">
                        <span class="glyphicon glyphicon-remove-circle"></span> Delete
                    </button>

                </div>
            </div>

        </div>
    </form>
</div>

<div th:fragment="settings">
    <div>
        <uib-tabset active="active">
            <uib-tab index="0" heading="Delivery Methods" select="settingsCtrl.getDeliveryMethods()">
                <div ng-repeat="deliveryMethod in settingsCtrl.deliveryMethods | orderBy:'name'">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <h3>{{deliveryMethod.name}}</h3>
                            <p>{{deliveryMethod.description}}</p>
                        </li>
                    </ul>
                </div>
            </uib-tab>
            <uib-tab index="$index + 1" heading="Document Formats" select="settingsCtrl.getDocumentFormats()">
                <div ng-repeat="documentFormat in settingsCtrl.documentFormats | orderBy:'name'">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <h3>{{documentFormat.name}}</h3>
                            <p>{{documentFormat.description}}</p>
                        </li>
                    </ul>
                </div>
            </uib-tab>
            <uib-tab index="$index + 2" heading="Document Types" select="settingsCtrl.getDocumentTypes()">
                <div ng-repeat="documentType in settingsCtrl.documentTypes | orderBy:'name'">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <h3>{{documentType.name}}</h3>
                            <p>{{documentType.description}}</p>
                        </li>
                    </ul>
                </div>
            </uib-tab>
            <uib-tab index="$index + 3" heading="Departments" select="settingsCtrl.getDepartments()">
                <div ng-repeat="department in settingsCtrl.departments | orderBy:'name'">
                    <ul class="list-group">
                        <li class="list-group-item">
                            <h3>{{department.name}}</h3>
                            <p>{{department.description}}</p>
                        </li>
                    </ul>
                </div>
            </uib-tab>

        </uib-tabset>

    </div>
</div>

<div th:fragment="about">
    <div>

        <!-- Marketing Icons Section -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">
                    <a href="http://www.pesc.org/interior.php?page_id=217">EDExchange by the Common Data Services (CDS) Task Force</a>
                </h1>
            </div>
            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4><i class="fa fa-fw fa-check"></i>EDExchange</h4>
                    </div>
                    <div class="panel-body">
                        <p>
                            The mission of the PESC Common Data Services taskforce is to improve security, reliability, efficiency and speed in the transfer of all educational data types by developing an open web services network and associated standards to benefit the education of students, streamline processes for institutions, and facilitate the advancement of services offered for education. (12.2011)
                        </p>
                        <a href="#about" class="btn btn-default">Learn More</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4><i class="fa fa-fw fa-gift"></i> Free &amp; Open Source</h4>
                    </div>
                    <div class="panel-body">
                        <p>The establishment of an open, data exchange network for the education community.</p>
                        <a href="#about" class="btn btn-default">Learn More</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4><i class="fa fa-fw fa-compass"></i> Easy to Use</h4>
                    </div>
                    <div class="panel-body">
                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque, optio corporis quae nulla aspernatur in alias at numquam rerum ea excepturi expedita tenetur assumenda voluptatibus eveniet incidunt dicta nostrum quod?</p>
                        <a href="#about" class="btn btn-default">Learn More</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.row -->

        <!-- Portfolio Section -->
        <div class="row">
            <div class="col-lg-12">
                <h2 class="page-header">Portfolio Heading</h2>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="portfolio-item.html">
                    <img class="img-responsive img-portfolio img-hover" src="http://placehold.it/700x450" alt="">
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="portfolio-item.html">
                    <img class="img-responsive img-portfolio img-hover" src="http://placehold.it/700x450" alt="">
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="portfolio-item.html">
                    <img class="img-responsive img-portfolio img-hover" src="http://placehold.it/700x450" alt="">
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="portfolio-item.html">
                    <img class="img-responsive img-portfolio img-hover" src="http://placehold.it/700x450" alt="">
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="portfolio-item.html">
                    <img class="img-responsive img-portfolio img-hover" src="http://placehold.it/700x450" alt="">
                </a>
            </div>
            <div class="col-md-4 col-sm-6">
                <a href="portfolio-item.html">
                    <img class="img-responsive img-portfolio img-hover" src="http://placehold.it/700x450" alt="">
                </a>
            </div>
        </div>
        <!-- /.row -->

        <!-- Features Section -->
        <div class="row">
            <div class="col-lg-12">
                <h2 class="page-header">EDExchange Features</h2>
            </div>
            <div class="col-md-6">
                <p>EDExchange project features:</p>
                <ul class="list-unstyled">
                    <li>
                        <strong>Open Source</strong>
                    </li>
                    <li>Directory Server</li>
                    <li>Network Server</li>
                    <li>Exchange any type of document with member organizations.</li>
                </ul>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, omnis doloremque non cum id reprehenderit, quisquam totam aspernatur tempora minima unde aliquid ea culpa sunt. Reiciendis quia dolorum ducimus unde.</p>
            </div>
            <div class="col-md-6">
                <img class="img-responsive" src="http://placehold.it/700x450" alt="">
            </div>
        </div>
        <!-- /.row -->

        <hr>

        <!-- Call to Action Section -->
        <div class="well">
            <div class="row">
                <div class="col-md-8">
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestias, expedita, saepe, vero rerum deleniti beatae veniam harum neque nemo praesentium cum alias asperiores commodi.</p>
                </div>
                <div class="col-md-4">
                    <a class="btn btn-lg btn-default btn-block" href="#directory">Directory</a>
                </div>
            </div>
        </div>

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>EDExchange by the Common Data Services (CDS) Task Force</p>
                </div>
            </div>
        </footer>

    </div>
</div>
<div th:fragment="endpoint">
    <div class="well" ng-controller="EndpointController as endpointCtrl">

        <form name="endpointForm"  ng-submit="endpointForm.$valid && endpointCtrl.save(endpoint)" novalidate="novalidate" class="glow" >

            <div ng-show="orgCtrl.isEditableByUser() && orgCtrl.hostedBy(endpoint)" style="float: right;">
                <div class="btn-group">
                    <button ng-show="!endpointCtrl.showForm(endpoint)" type="button" class="btn btn-default" ng-click="endpointCtrl.edit(endpoint)">
                        <span class="glyphicon glyphicon-pencil"></span> Edit
                    </button>
                    <button ng-show="endpointCtrl.showForm(endpoint)" type="submit" class="btn btn-default">
                        <span class="glyphicon glyphicon-floppy-disk"></span> Save
                    </button>
                    <button type="button" uib-popover-template="'delete-endpoint.html'" popover-trigger="focus" popover-placement="right" class="btn btn-default">
                        <span class="glyphicon glyphicon-remove-circle"></span> Delete
                    </button>

                </div>
            </div>
            <div ng-show="endpointCtrl.showForm(endpoint)">
                <div style="width: 80%;">
                    <h4>
                        <input class="form-control" type="text" placeholder="Address" required="required" ng-model="endpoint.address"> </input>
                    </h4>
                    <p>
                        <textarea class="form-control" type="text" placeholder="Description" required="required" ng-minlength="10" ng-maxlength="1023" ng-model="endpoint.instructions"> </textarea>
                    </p>
                    <div>
                        <strong>Document Format</strong>
                        <div>

                            <select class="form-control" style="width: 160px;" required="required"
                                    ng-model="endpoint.documentFormat"
                                    ng-options="documentFormat.name for documentFormat in endpointCtrl.documentFormats track by documentFormat.id">

                            </select>
                            <p>
                                {{endpoint.documentFormat.description}}
                            </p>
                        </div>
                    </div>
                    <div>
                        <strong>Delivery Methods</strong>
                        <div>
                            <select class="form-control" style="width: 160px;"  required="required"
                                    ng-model="endpoint.deliveryMethod"
                                    ng-options="deliveryMethod.name for deliveryMethod in endpointCtrl.deliveryMethods track by deliveryMethod.id">

                            </select>
                            <p>
                                {{endpoint.deliveryMethod.description}}
                            </p>
                        </div>
                    </div>

                    <div>
                        <strong>Document Types</strong>
                        <div>
                            <select class="form-control" style="width: 160px;"  required="required"
                                    ng-model="endpoint.documentType"
                                    ng-options="documentType.name for documentType in endpointCtrl.documentTypes track by documentType.id">

                            </select>
                            <p>
                                {{endpoint.documentType.description}}
                            </p>
                        </div>
                    </div>


                    <div>
                        <strong>Departments</strong>
                        <div>
                            <select class="form-control" style="width: 160px;"  required="required"
                                    ng-model="endpoint.department"
                                    ng-options="department.name for department in endpointCtrl.departments track by department.id">

                            </select>
                            <p>
                                {{endpoint.department.description}}
                            </p>
                        </div>
                    </div>


                    <div>
                        <strong>Hosted By</strong>
                        <p>
                            <a ng-href="#organization/{{endpoint.organization.id}}">{{endpoint.organization.name}}</a>

                        </p>
                    </div>
                    <div ng-show="orgCtrl.hostedBy(endpoint) == true" >
                        <strong>Used By</strong>
                        <div ng-repeat="institution in endpoint.organizations">
                            <a ng-show="institution.id != endpoint.organization.id" ng-href="#organization/{{institution.id}}">{{institution.name}}</a>
                        </div>
                    </div>

                </div>
            </div>
            <div ng-show="!endpointCtrl.showForm(endpoint)">
                <h4>{{endpoint.address}}</h4>
                <p>{{endpoint.instructions}}</p>
                <div><strong>Document Format</strong></div>


                <h5>{{endpoint.documentFormat.name}}</h5>
                <p>{{endpoint.documentFormat.description}}</p>


                <div><strong>Delivery Method</strong></div>

                <h5>{{endpoint.deliveryMethod.name}}</h5>
                <p>{{endpoint.deliveryMethod.description}}</p>


                <div><strong>Document Type</strong></div>

                <h5>{{endpoint.documentType.name}}</h5>
                <p>{{endpoint.documentType.description}}</p>


                <div><strong>Department</strong></div>

                <h5>{{endpoint.department.name}}</h5>
                <p>{{endpoint.department.description}}</p>


                <div>
                    <strong>Hosted By</strong>
                    <p>
                        <a ng-href="#organization/{{endpoint.organization.id}}">{{endpoint.organization.name}}</a>

                    </p>
                </div>
                <div ng-show="orgCtrl.hostedBy(endpoint) == true" >
                    <strong>Used By</strong>
                    <div ng-repeat="institution in endpoint.organizations">
                        <a ng-if="institution.id != endpoint.organization.id" ng-href="#organization/{{institution.id}}">{{institution.name}}</a>
                    </div>
                </div>

            </div>

        </form>

    </div>
</div>


<div th:fragment="endpoint-selector">
    <div>
        <h1 ng-show="!orgCtrl.showOrgForm()">{{endpointCtrl.institution.name}}</h1>
        <p>Endpoints available from service providers.</p>

        <div ng-repeat="endpoint in endpointCtrl.selectableEndpoints">
            <div class="well">

                <div style="float:right;">
                    <button type="button" class="btn btn-default" ng-show="endpointCtrl.isAssignedToInstitution(endpoint) == false"
                            ng-click="endpointCtrl.addEndpointToInstitution(endpoint)">
                        <span class="glyphicon glyphicon-plus"></span> Add
                    </button>

                    <button type="button" class="btn btn-default" ng-show="endpointCtrl.isAssignedToInstitution(endpoint) == true"
                            ng-click="endpointCtrl.removeEndpointToInstitution(endpoint)">
                        <span class="glyphicon glyphicon-remove"></span> Remove
                    </button>

                </div>

                <div>
                    <h4>{{endpoint.address}}</h4>
                    <p>{{endpoint.instructions}}</p>
                    <div><strong>Document Format</strong></div>


                    <h5>{{endpoint.documentFormat.name}}</h5>
                    <p>{{endpoint.documentFormat.description}}</p>


                    <div><strong>Delivery Method</strong></div>

                    <h5>{{endpoint.deliveryMethod.name}}</h5>
                    <p>{{endpoint.deliveryMethod.description}}</p>

                    <div>
                        <strong>Hosted By</strong>
                        <p>
                            <a ng-href="#organization/{{endpoint.organization.id}}">{{endpoint.organization.name}}</a>

                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:fragment="school-code">
    <div class="row">
        <div ng-show="orgCtrl.editingSchoolCode(schoolCode) == false">
            <div class="col-md-2">{{schoolCode.codeType}}</div>
            <div class="col-md-2">{{schoolCode.code}}</div>

            <div class="col-md-2" ng-show="orgCtrl.isEditableByUser()">
                <button  type="button" class="btn btn-default" ng-click="orgCtrl.editSchoolCode(schoolCode)">
                    <span class="glyphicon glyphicon-pencil"></span>
                </button>
                <button type="button" class="btn btn-default" ng-click="orgCtrl.removeSchoolCode(schoolCode)">
                    <span class="glyphicon glyphicon-remove-circle"></span>
                </button>
            </div>
        </div>
        <div ng-show="orgCtrl.editingSchoolCode(schoolCode) == true" >
            <div  class="col-md-2">
                <select class="form-control" style="width: 110px;" required="required"
                        ng-model="schoolCode.codeType">
                    <option value=""></option>
                    <option value="ACT">ACT</option>
                    <option value="ATP">ATP</option>
                    <option value="FICE">FICE</option>
                    <option value="IPEDS">IPEDS</option>
                </select>
            </div>
            <div  class="col-md-2">
                <input class="form-control" type="text" ng-model="schoolCode.code"/>
            </div>
            <div class="col-md-2">
                <button  type="button" class="btn btn-default" ng-click="orgCtrl.saveSchoolCode(schoolCode)">
                    <span class="glyphicon glyphicon-floppy-disk"></span>
                </button>
                <button type="button" class="btn btn-default" ng-click="orgCtrl.removeSchoolCode(schoolCode)">
                    <span class="glyphicon glyphicon-remove-circle"></span>
                </button>
            </div>
        </div>
    </div>
</div>

<div th:fragment="organization-details">
   <div>
        <form name="orgForm"  ng-submit="orgForm.$valid && orgCtrl.saveOrg()" novalidate="novalidate" class="glow">
            <div ng-show="orgCtrl.isEditableByUser()" style="float: right;">
                <div class="btn-group">
                    <button ng-show="!orgCtrl.showOrgForm()" type="button" class="btn btn-default" ng-click="orgCtrl.editOrg()">
                        <span class="glyphicon glyphicon-pencil"></span> Edit
                    </button>
                    <button ng-show="orgCtrl.showOrgForm()" type="submit" class="btn btn-default">
                        <span class="glyphicon glyphicon-floppy-disk"></span> Save
                    </button>
                    <button type="button" uib-popover-template="'delete-user.html'" popover-trigger="focus" popover-placement="right" class="btn btn-default">
                        <span class="glyphicon glyphicon-remove-circle"></span> Delete
                    </button>

                </div>
            </div>
            <div class="inner-margin7">
                <h1 ng-show="!orgCtrl.showOrgForm()">{{orgCtrl.org.name}}</h1>

                <div ng-show="orgCtrl.showOrgForm()">
                    <h1>
                        <input type="text" placeholder="Name" required="required" ng-model="orgCtrl.org.name" ng-class="{ jw : orgForm.$submitted === true}"> </input>
                    </h1>
                </div>

                <div ng-show="!orgCtrl.showOrgForm()">
                    <a ng-href="{{orgCtrl.org.website}}" target="_blank">Website</a>
                </div>

                <div ng-show="orgCtrl.showOrgForm()">
                    <input type="url" placeholder="http://" required="required" ng-model="orgCtrl.org.website" > </input>
                </div>
                <div><strong>Address: </strong>
                                            <span ng-show="!orgCtrl.showOrgForm()">
                                                <span>{{orgCtrl.org.street}} </span>
                                                <span>{{orgCtrl.org.city}} </span>
                                                <span>{{orgCtrl.org.state}} </span>
                                                <span>{{orgCtrl.org.zip}}</span>
                                            </span>
                                            <span ng-show="orgCtrl.showOrgForm()">

                                                <span><input type="text" placeholder="Street" required="required" ng-model="orgCtrl.org.street"> </input> </span>
                                                <span><input type="text" placeholder="City" required="required" ng-model="orgCtrl.org.city"> </input> </span>
                                                <span>

                                                <select ng-model="orgCtrl.org.state">
                                                    <option value="AL">Alabama</option>
                                                    <option value="AK">Alaska</option>
                                                    <option value="AZ">Arizona</option>
                                                    <option value="AR">Arkansas</option>
                                                    <option value="CA">California</option>
                                                    <option value="CO">Colorado</option>
                                                    <option value="CT">Connecticut</option>
                                                    <option value="DE">Delaware</option>
                                                    <option value="DC">District Of Columbia</option>
                                                    <option value="FL">Florida</option>
                                                    <option value="GA">Georgia</option>
                                                    <option value="HI">Hawaii</option>
                                                    <option value="ID">Idaho</option>
                                                    <option value="IL">Illinois</option>
                                                    <option value="IN">Indiana</option>
                                                    <option value="IA">Iowa</option>
                                                    <option value="KS">Kansas</option>
                                                    <option value="KY">Kentucky</option>
                                                    <option value="LA">Louisiana</option>
                                                    <option value="ME">Maine</option>
                                                    <option value="MD">Maryland</option>
                                                    <option value="MA">Massachusetts</option>
                                                    <option value="MI">Michigan</option>
                                                    <option value="MN">Minnesota</option>
                                                    <option value="MS">Mississippi</option>
                                                    <option value="MO">Missouri</option>
                                                    <option value="MT">Montana</option>
                                                    <option value="NE">Nebraska</option>
                                                    <option value="NV">Nevada</option>
                                                    <option value="NH">New Hampshire</option>
                                                    <option value="NJ">New Jersey</option>
                                                    <option value="NM">New Mexico</option>
                                                    <option value="NY">New York</option>
                                                    <option value="NC">North Carolina</option>
                                                    <option value="ND">North Dakota</option>
                                                    <option value="OH">Ohio</option>
                                                    <option value="OK">Oklahoma</option>
                                                    <option value="OR">Oregon</option>
                                                    <option value="PA">Pennsylvania</option>
                                                    <option value="RI">Rhode Island</option>
                                                    <option value="SC">South Carolina</option>
                                                    <option value="SD">South Dakota</option>
                                                    <option value="TN">Tennessee</option>
                                                    <option value="TX">Texas</option>
                                                    <option value="UT">Utah</option>
                                                    <option value="VT">Vermont</option>
                                                    <option value="VA">Virginia</option>
                                                    <option value="WA">Washington</option>
                                                    <option value="WV">West Virginia</option>
                                                    <option value="WI">Wisconsin</option>
                                                    <option value="WY">Wyoming</option>
                                                </select>

                                                </span>
                                                <span><input type="text" placeholder="Zip Code" required="required" ng-model="orgCtrl.org.zip" style="max-width: 80px;"> </input></span>

                                            </span>
                </div>

                <div><strong>Phone: </strong>
                    <span ng-show="!orgCtrl.showOrgForm()">{{orgCtrl.org.telephone}}</span>
                                            <span ng-show="orgCtrl.showOrgForm()">
                                                <input type="tel" placeholder="Telephone" required="required" ng-model="orgCtrl.org.telephone">
                                            </span>
                </div>

                <div><strong>Type: </strong>
                    <span ng-show="!orgCtrl.showOrgForm()">
                        <span ng-repeat="type in orgCtrl.org.organizationTypes" class="ed-inline-box"><span>{{type.name}}{{$last ? '' : ', '}}</span></span>
                     </span>

                     <span ng-show="orgCtrl.showOrgForm()">

                            <span ng-repeat="type in orgCtrl.organizationTypes">
                                <span  class="checkbox-inline"> <input
                                   type="checkbox"
                                   ng-checked="orgCtrl.hasOrgType(type)"
                                   name="orgTypes"
                                   ng-disabled="type.id == 1"
                                   ng-click="orgCtrl.updateOrgType($event, type)"> {{type.name}} </span>
                            </span>
                     </span>
                </div>
                <div><strong>Enabled: </strong>{{orgCtrl.org.enabled | trueFalse}}</div>
                <div><strong>Member Since: </strong>{{orgCtrl.org.createdTime | date:'MM/dd/yyyy'}}</div>
                <div><strong>Directory ID: </strong>{{orgCtrl.org.id}}</div>

            </div>
        </form>

        <div ng-show="orgCtrl.isInstitution()==true">
            <div ng-show="orgCtrl.isEditableByUser()" style="float: right;">

                <span class="glyphicon glyphicon-plus ed-icon-btn" ng-click="orgCtrl.addSchoolCode()"></span>

            </div>

            <div class="ed-title">School Codes</div>

            <span ng-repeat="schoolCode in orgCtrl.org.schoolCodes" class="ed-inline-box">
                   <div th:include="::school-code"></div>
            </span>

            <div>
                <div style="float:right;" ng-show="orgCtrl.isEditableByUser()">


                     <span ng-show="orgCtrl.showServiceProviderForm == false">
                         <span class="glyphicon glyphicon-pencil ed-icon-btn" ng-click="orgCtrl.setShowServiceProviderForm(true)"></span>
                     </span>
                     <span ng-show="orgCtrl.showServiceProviderForm == true">
                         <span class="glyphicon glyphicon-floppy-disk ed-icon-btn" ng-click="orgCtrl.setShowServiceProviderForm(false)"></span>
                     </span>

                </div>
                <div class="ed-title">Service Providers</div>


                <div ng-show="orgCtrl.showServiceProviderForm==false">
                    <div ng-repeat="provider in orgCtrl.selectedServiceProviders" >

                        <div>
                            <a ng-href="#organization/{{provider.id}}">{{provider.name}}</a>
                        </div>

                    </div>
                </div>

                <div ng-show="orgCtrl.showServiceProviderForm==true">
                    <div ng-repeat="provider in orgCtrl.serviceProviders" style="margin-top: 10px;">
                        <div>
                                <span  class="checkbox-inline"> <input
                                        type="checkbox"
                                        ng-checked="orgCtrl.hasServiceProvider(provider)"
                                        name="school"
                                        ng-click="orgCtrl.updateSelectedServiceProviders($event, provider)"> <b>{{provider.name}}</b></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <form name="certificateForm" ng-submit="certificateForm.$valid && orgCtrl.setCertificate()" novalidate="novalidate">
                <div ng-show="orgCtrl.isEditableByUser()" style="float:right;">


                    <span  ng-show="orgCtrl.showCertificateForm == false" class="glyphicon glyphicon-pencil ed-icon-btn"
                          ng-click="orgCtrl.toggleCertificateForm()"></span>


                    <button ng-show="orgCtrl.showCertificateForm == true" class="glyphicon glyphicon-floppy-disk ed-icon-btn" type="submit"></button>



                </div>

                <div class="ed-title">Signing Certificate</div>

                <div ng-show="orgCtrl.showCertificateForm == true">

                        <div>
                            <div class="form-group">
                                <textarea  type="text" required="required" ng-minlength="100" style="width: 100%; height: 250px; padding: 10px;" ng-maxlength="2047" ng-model="orgCtrl.pemCertificate" placeholder="PEM Certificate"> </textarea>
                            </div>
                        </div>

                </div>
                <div ng-show="orgCtrl.showCertificateForm == false">
                    <div>
                        <label><b>Subject Distinguished Name (DN):</b></label>
                        <span>{{orgCtrl.certificateInfo.subjectDN}}</span>
                    </div>
                    <div>
                        <label><b>Issuer Distinguished Name (DN):</b></label>
                        <span>{{orgCtrl.certificateInfo.issuerDN}}</span>
                    </div>
                    <div>
                        <label><b>Invalid Before:</b></label>
                        <span>{{orgCtrl.certificateInfo.notBefore | date:'MM/dd/yyyy'}}</span>
                    </div>
                    <div>
                        <label><b>Invalid After:</b></label>
                        <span>{{orgCtrl.certificateInfo.notAfter | date:'MM/dd/yyyy'}}</span>
                    </div>
                    <div>
                        <label><b>Serial Number:</b></label>
                        <span>{{orgCtrl.certificateInfo.serialNumber}}</span>
                    </div>
                    <div>
                        <label><b>Version:</b></label>
                        <span>{{orgCtrl.certificateInfo.version}}</span>
                    </div>
                </div>
            </form>



        </div>

        <div ng-show="orgCtrl.isServiceProvider()==true ">
            <div ng-show="orgCtrl.isEditableByUser()" style="float:right;">


                <span class="glyphicon glyphicon-upload ed-icon-btn"
                      ng-click="orgCtrl.showUploadForm()"></span>

            </div>

            <div class="ed-title">Serviced Schools</div>

            <div><b>{{orgCtrl.totalServicedSchools}} Serviced Schools</b></div>

            <uib-pagination
                    total-items="orgCtrl.totalServicedSchools"
                    ng-model="orgCtrl.servicedSchoolsOffset"
                    max-size="5"
                    class="pagination-sm"
                    items-per-page="orgCtrl.pageSize"
                    boundary-link-numbers="true"
                    rotate="false" ng-change="orgCtrl.getInstitutionsForServiceProvider()"></uib-pagination>


            <div class="row">
                <div ng-repeat="institution in orgCtrl.institutions" style="margin-top: 10px;">

                    <div class="col-sm-4 col-xs-4">
                        <a ng-href="#organization/{{institution.id}}">{{institution.name}}</a>
                    </div>

                </div>
            </div>

        </div>


        <div>
            <div style="float:right;">
                     <span ng-show="orgCtrl.isEditableByUser() && orgCtrl.isServiceProvider()">
                            <span class="glyphicon glyphicon-plus ed-icon-btn" ng-click="orgCtrl.createEndpoint()"></span>
                     </span>
            </div>


            <div class="ed-title">Endpoints</div>

            <div ng-show="orgCtrl.isMyOrgServiceProviderForInstitution()==true && orgCtrl.selectedServiceProviders.length > 0">
                <a ng-href="#endpoint-selector/{{orgCtrl.org.id}}">Select Endpoints</a>
            </div>


            <div ng-repeat="endpoint in orgCtrl.endpoints">

                <div class="ed-endpoint">
                    <div th:include="::endpoint"></div>
                </div>
            </div>


        </div>


   </div>
</div>


<div th:fragment="users">

    <div>

        <h1>{{usersCtrl.org.name}} Users</h1>
        <div class="sub-nav" style="margin-top: 20px;">
            <button th:if="${hasOrgAdminRole}" type="button" class="btn btn-default" ng-click="usersCtrl.create()">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> User
            </button>

            <div class="form-inline">
                <div class="form-group">
                    <input class="form-control" type="text" ng-model="usersCtrl.searchInput" placeholder="Name"> </input>
                    <button class="btn btn-default" ng-click="usersCtrl.find()">
                        <i class="glyphicon glyphicon-search"></i> Search
                    </button>
                </div>

            </div>

        </div>
    </div>
    <div ng-repeat="user in usersCtrl.users | orderBy:'name'">
        <ul class="list-group">
            <li class="list-group-item">

                <div th:include="::user"></div>

            </li>
        </ul>
    </div>



</div>
<div th:fragment="organization">
    <form name="orgForm"  ng-submit="orgForm.$valid && orgCtrl.saveOrg(org)" novalidate="novalidate" class="glow" style="position: relative;">
        <div class="sub-nav">
            <div class="inner-margin7">
                <h1 ng-show="!orgCtrl.showOrgForm(org)"><a ng-href="#organization/{{org.id}}">{{org.name}}</a></h1>

                <div ng-show="orgCtrl.showOrgForm(org)">
                    <h1>
                        <input type="text" placeholder="Name" required="required" ng-model="org.name" ng-class="{ jw : orgForm.$submitted === true}"> </input>
                    </h1>
                </div>

                <div ng-show="!orgCtrl.showOrgForm(org)">
                    <a ng-href="{{org.website}}" target="_blank">Website</a>
                </div>

                <div ng-show="orgCtrl.showOrgForm(org)">
                    <input type="url" placeholder="http://" required="required" ng-model="org.website" > </input>
                </div>
                <div><strong>Address: </strong>
                                            <span ng-show="!orgCtrl.showOrgForm(org)">
                                                <span>{{org.street}} </span>
                                                <span>{{org.city}} </span>
                                                <span>{{org.state}} </span>
                                                <span>{{org.zip}}</span>
                                            </span>
                                            <span ng-show="orgCtrl.showOrgForm(org)">

                                                <span><input type="text" placeholder="Street" required="required" ng-model="org.street"> </input> </span>
                                                <span><input type="text" placeholder="City" required="required" ng-model="org.city"> </input> </span>
                                                <span>

                                                <select ng-model="org.state">
                                                    <option value="AL">Alabama</option>
                                                    <option value="AK">Alaska</option>
                                                    <option value="AZ">Arizona</option>
                                                    <option value="AR">Arkansas</option>
                                                    <option value="CA">California</option>
                                                    <option value="CO">Colorado</option>
                                                    <option value="CT">Connecticut</option>
                                                    <option value="DE">Delaware</option>
                                                    <option value="DC">District Of Columbia</option>
                                                    <option value="FL">Florida</option>
                                                    <option value="GA">Georgia</option>
                                                    <option value="HI">Hawaii</option>
                                                    <option value="ID">Idaho</option>
                                                    <option value="IL">Illinois</option>
                                                    <option value="IN">Indiana</option>
                                                    <option value="IA">Iowa</option>
                                                    <option value="KS">Kansas</option>
                                                    <option value="KY">Kentucky</option>
                                                    <option value="LA">Louisiana</option>
                                                    <option value="ME">Maine</option>
                                                    <option value="MD">Maryland</option>
                                                    <option value="MA">Massachusetts</option>
                                                    <option value="MI">Michigan</option>
                                                    <option value="MN">Minnesota</option>
                                                    <option value="MS">Mississippi</option>
                                                    <option value="MO">Missouri</option>
                                                    <option value="MT">Montana</option>
                                                    <option value="NE">Nebraska</option>
                                                    <option value="NV">Nevada</option>
                                                    <option value="NH">New Hampshire</option>
                                                    <option value="NJ">New Jersey</option>
                                                    <option value="NM">New Mexico</option>
                                                    <option value="NY">New York</option>
                                                    <option value="NC">North Carolina</option>
                                                    <option value="ND">North Dakota</option>
                                                    <option value="OH">Ohio</option>
                                                    <option value="OK">Oklahoma</option>
                                                    <option value="OR">Oregon</option>
                                                    <option value="PA">Pennsylvania</option>
                                                    <option value="RI">Rhode Island</option>
                                                    <option value="SC">South Carolina</option>
                                                    <option value="SD">South Dakota</option>
                                                    <option value="TN">Tennessee</option>
                                                    <option value="TX">Texas</option>
                                                    <option value="UT">Utah</option>
                                                    <option value="VT">Vermont</option>
                                                    <option value="VA">Virginia</option>
                                                    <option value="WA">Washington</option>
                                                    <option value="WV">West Virginia</option>
                                                    <option value="WI">Wisconsin</option>
                                                    <option value="WY">Wyoming</option>
                                                </select>

                                                </span>
                                                <span><input type="text" placeholder="Zip Code" required="required" ng-model="org.zip" style="max-width: 80px;"> </input></span>

                                            </span>
                </div>

                <div><strong>Phone: </strong>
                    <span ng-show="!orgCtrl.showOrgForm(org)">{{org.telephone}}</span>
                                            <span ng-show="orgCtrl.showOrgForm(org)">
                                                <input type="tel" placeholder="Telephone" required="required" ng-model="org.telephone">
                                            </span>
                </div>

                <div><strong>Type: </strong>
                    <span ng-show="!orgCtrl.showOrgForm(org)">
                        <span ng-repeat="type in org.organizationTypes" class="ed-inline-box"><span>{{type.name}}{{$last ? '' : ', '}}</span></span>
                    </span>

                     <span ng-show="orgCtrl.showOrgForm(org)">

                            <span ng-repeat="type in orgCtrl.organizationTypes">
                                <span  class="checkbox-inline"> <input
                                        type="checkbox"
                                        ng-checked="orgCtrl.hasOrgType(type,org)"
                                        name="orgTypes"
                                        ng-disabled="type.id == 1"
                                        ng-click="orgCtrl.updateOrgType($event, type,org)"> {{type.name}} </span>
                            </span>
                     </span>
                </div>
                <div><strong>Enabled: </strong>{{org.enabled | trueFalse}}</div>
                <div><strong>Member Since: </strong>{{org.createdTime | date:'MM/dd/yyyy'}}</div>
                <div><strong>Directory ID: </strong>{{org.id}}</div>
            </div>

            <div th:if="${hasSystemAdminRole}" style="position: absolute; top: 0; right: 0;">
                <div class="btn-group">
                    <button type="button" class="btn btn-default btn-sm" ng-show="org.enabled == false"
                            ng-click="orgCtrl.setEnabled(org,true)">
                        <span class="glyphicon glyphicon-plus"></span> Enable
                    </button>

                    <button type="button" class="btn btn-default btn-sm" ng-show="org.enabled == true"
                            ng-click="orgCtrl.setEnabled(org,false)">
                        <span class="glyphicon glyphicon-remove"></span> Disable
                    </button>

                    <button type="button" class="btn btn-default btn-sm" ng-click="orgCtrl.createUser(org)">
                        <span class="glyphicon glyphicon-user"></span> Manage Users
                    </button>
                    <button ng-show="!orgCtrl.showOrgForm(org)" type="button" class="btn btn-default btn-sm" ng-click="orgCtrl.editOrg(org)">
                        <span class="glyphicon glyphicon-pencil"></span> Edit
                    </button>
                    <button ng-show="orgCtrl.showOrgForm(org)" type="submit" class="btn btn-default btn-sm">
                        <span class="glyphicon glyphicon-floppy-disk"></span> Save
                    </button>
                    <button type="button" uib-popover-template="'delete-org.html'" popover-trigger="focus" popover-placement="right" class="btn btn-default btn-sm">
                        <span class="glyphicon glyphicon-remove-circle"></span> Delete
                    </button>

                </div>
            </div>
        </div>
    </form>
</div>

<div th:fragment="message">
    <div class="well">
        <div th:if="${hasOrgAdminRole}" style="float: right;">
            <div class="btn-group">
                <button ng-show="msg.dismissed==false" type="button" class="btn btn-default" ng-click="messageCtrl.dismiss(msg)">
                    <span class="glyphicon glyphicon-ok"></span> Dismiss
                </button>
            </div>
        </div>
        <div>Topic: <b>{{msg.topic}}</b></div>
        <div>Action Required:  <b>{{msg.actionRequired  | trueFalse}}</b> </div>

        <div>Dismissed:  <b>{{msg.dismissed  | trueFalse}}</b> </div>
        <p ng-bind-html="msg.content"></p>


    </div>

</div>



<div th:fragment="messages">
    <div>
        <h1>{{messageCtrl.org.name}} Messages</h1>
        <div ng-repeat="msg in messageCtrl.messageList">
            <div th:include="::message"></div>
        </div>

    </div>
</div>

<div th:fragment="registration-email">
    <div>Dear <span th:text="${user.name}"></span>,</div>

    <p>
        Thank you for registering  <span th:text="${organization.name}"></span> with EDExchange.  Your application is
        currently being reviewed.  When the review process is complete, your organization will be added to the EDExchange
        directory.
    </p>

    <p>
        A user account has been created for you with the username and password that you provided in registration form.
        You may login <a href="http://www.edexchange.net/login">here.</a> While your application is being reviewed, all
        EDExchange features are available, but your organization will not be included in the directory until the application
        is approved.
    </p>

    <p>
        When the status of your application changes, you will receive another email. Messages can also be viewed in the
        EDExchange application by selecting "Messages" from the menu.
    </p>

    <p>
        Thank you from the EDExchange team.
    </p>
</div>

<div th:fragment="registration-admin-email">
    <p>
        An application for EDExchange membership has been received for <a th:href="@{'#organization/' + ${organization.id}}"><span th:text="${organization.name}"></span></a>
        You are required to review the application and organization information and enable the organization to accept
        the application.  If additional actions are required by the applicant, you may send the application a message
        <a ng-href="#message-form">here</a>.
    </p>

    <p>
        The application was submitted by the primary contact for the organization, <a th:href="@{'#user/' + ${user.id}}"><span th:text="${user.name}"></span></a>.
    </p>
</div>

<div th:fragment="registration-form">
    <form name="regForm"  ng-submit="regForm.$valid && regCtrl.register()" novalidate="novalidate">
        <div class="row">

            <div class="col-sm-4">
                <h2>Organization</h2>
                <fieldset class="form-group">
                    <label>Organization Name</label>
                    <input type="text" class="form-control" placeholder="Name" required="required" ng-model="regCtrl.org.name" > </input>
                </fieldset>

                <fieldset class="form-group">
                    <label>Website URL</label>
                    <input class="form-control" type="url" placeholder="http://" required="required" ng-model="regCtrl.org.website" > </input>
                </fieldset>
                <fieldset class="form-group">
                    <label>Street</label>
                    <input class="form-control" type="text" placeholder="Street" required="required" ng-model="regCtrl.org.street"> </input>
                </fieldset>
                <fieldset class="form-group">
                    <label>City</label>

                    <input class="form-control" type="text" placeholder="City" required="required" ng-model="regCtrl.org.city"> </input>
                </fieldset>
                <fieldset class="form-group">
                    <label>State</label>

                    <select class="form-control" ng-model="regCtrl.org.state">
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <option value="AZ">Arizona</option>
                        <option value="AR">Arkansas</option>
                        <option value="CA">California</option>
                        <option value="CO">Colorado</option>
                        <option value="CT">Connecticut</option>
                        <option value="DE">Delaware</option>
                        <option value="DC">District Of Columbia</option>
                        <option value="FL">Florida</option>
                        <option value="GA">Georgia</option>
                        <option value="HI">Hawaii</option>
                        <option value="ID">Idaho</option>
                        <option value="IL">Illinois</option>
                        <option value="IN">Indiana</option>
                        <option value="IA">Iowa</option>
                        <option value="KS">Kansas</option>
                        <option value="KY">Kentucky</option>
                        <option value="LA">Louisiana</option>
                        <option value="ME">Maine</option>
                        <option value="MD">Maryland</option>
                        <option value="MA">Massachusetts</option>
                        <option value="MI">Michigan</option>
                        <option value="MN">Minnesota</option>
                        <option value="MS">Mississippi</option>
                        <option value="MO">Missouri</option>
                        <option value="MT">Montana</option>
                        <option value="NE">Nebraska</option>
                        <option value="NV">Nevada</option>
                        <option value="NH">New Hampshire</option>
                        <option value="NJ">New Jersey</option>
                        <option value="NM">New Mexico</option>
                        <option value="NY">New York</option>
                        <option value="NC">North Carolina</option>
                        <option value="ND">North Dakota</option>
                        <option value="OH">Ohio</option>
                        <option value="OK">Oklahoma</option>
                        <option value="OR">Oregon</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="RI">Rhode Island</option>
                        <option value="SC">South Carolina</option>
                        <option value="SD">South Dakota</option>
                        <option value="TN">Tennessee</option>
                        <option value="TX">Texas</option>
                        <option value="UT">Utah</option>
                        <option value="VT">Vermont</option>
                        <option value="VA">Virginia</option>
                        <option value="WA">Washington</option>
                        <option value="WV">West Virginia</option>
                        <option value="WI">Wisconsin</option>
                        <option value="WY">Wyoming</option>
                    </select>

                </fieldset>
                <fieldset class="form-group">
                    <label>Zip Code</label>
                    <input class="form-control" type="text" placeholder="Zip Code" required="required" ng-model="regCtrl.org.zip" style="max-width: 100px;"> </input>
                </fieldset>
                <fieldset class="form-group">
                    <label>Phone</label>
                    <input type="tel" class="form-control" placeholder="Telephone" required="required" ng-model="regCtrl.org.telephone" style="width:150px;">

                </fieldset>

                <fieldset class="form-group">
                    <label>Type</label>


                     <div ng-repeat="type in regCtrl.organizationTypes">
                                <div class="well" ng-show="type.id != 1">
                                    <input
                                        type="checkbox"
                                        ng-checked="regCtrl.hasOrgType(type)"
                                        name="orgTypes"
                                        ng-click="regCtrl.updateOrgType($event, type)" />
                                    <b>{{type.name}}</b>
                                    <p>{{type.description}}</p>
                                </div>
                            </div>

                </fieldset>

                <fieldset class="form-group">
                    <button type="submit" class="btn btn-success">Submit</button>
                </fieldset>
            </div>

            <div class="col-sm-4 col-sm-offset-2">
                <h2>Contact</h2>
                <fieldset class="form-group">
                    <label>Contact Name</label>
                    <input class="form-control" type="text" placeholder="Name" required="required" ng-model="regCtrl.user.name"> </input>
                </fieldset>
                <fieldset class="form-group">
                    <label>Title</label>

                    <input class="form-control" type="text" placeholder="Title" ng-model="regCtrl.user.title" > </input>

                </fieldset>
                <fieldset class="form-group">
                    <label>Phone</label>
                    <input class="form-control" type="tel" placeholder="Phone" ng-model="regCtrl.user.phone" > </input>

                </fieldset>
                <fieldset class="form-group">
                    <label>Email</label>
                    <input class="form-control" type="email" placeholder="Email" ng-model="regCtrl.user.email"  > </input>
                </fieldset>
                <fieldset class="form-group">
                    <label>Username</label>
                    <input class="form-control" type="text" placeholder="Username" ng-model="regCtrl.user.username"  > </input>
                </fieldset>
                <fieldset class="form-group">
                    <label>Password</label>
                    <input class="form-control" type="password" placeholder="Password" ng-model="regCtrl.user.password"  > </input>
                </fieldset>
            </div>
        </div>
    </form>
</div>

<div th:fragment="organizations">

    <div class="row" style="margin-bottom: 20px;">
        <div class="col-sm-5">

            <button th:if="${hasSystemAdminRole}" type="button" class="btn btn-default" ng-click="orgCtrl.createOrg()">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Organization
            </button>

            <button type="button" class="btn btn-default"
                    ng-model="orgCtrl.isEnabled"
                    uib-btn-checkbox btn-checkbox-true="true"
                    btn-checkbox-false="false" ng-click="orgCtrl.findOrganizations()">
                Enabled
            </button>

            <button type="button" class="btn btn-default"
                    ng-model="orgCtrl.isServiceProvider"
                    uib-btn-checkbox btn-checkbox-true="true"
                    btn-checkbox-false="false" ng-click="orgCtrl.findOrganizations()">
                Service Provider
            </button>

            <button type="button" class="btn btn-default"
                    ng-model="orgCtrl.isInstitution"
                    uib-btn-checkbox btn-checkbox-true="true"
                    btn-checkbox-false="false" ng-click="orgCtrl.findOrganizations()">
                Institution
            </button>
        </div>

        <div class="col-sm-7">
            <div class="form-inline">
                <div class="form-group">
                    <input class="form-control" type="text" ng-model="orgCtrl.orgName" placeholder="Organization Name"> </input>
                </div>

                <div class="form-group" style="border: dotted 1px #eeeeee;">
                    <input class="form-control" type="text" ng-model="orgCtrl.schoolCode" placeholder="Code" style="width: 100px;"> </input>


                    <select class="form-control" style="width: 110px;" required="required"
                            ng-model="orgCtrl.schoolCodeType">
                        <option value="">Code Type</option>
                        <option value="ACT">ACT</option>
                        <option value="ATP">ATP</option>
                        <option value="FICE">FICE</option>
                        <option value="IPEDS">IPEDS</option>
                    </select>

                </div>

                <button class="btn btn-default" ng-click="orgCtrl.resetSearch()">
                    <i class="glyphicon glyphicon-refresh"></i> Reset
                </button>

                <button class="btn btn-default" ng-click="orgCtrl.findOrganizations()">
                    <i class="glyphicon glyphicon-search"></i> Search
                </button>


            </div>

        </div>
    </div>



        <uib-pagination
                total-items="orgCtrl.totalRecords"
                ng-model="orgCtrl.offset"
                max-size="5"
                class="pagination-sm"
                items-per-page="orgCtrl.pageSize"
                boundary-link-numbers="true"
                rotate="false" ng-change="orgCtrl.findOrganizations()"></uib-pagination>



    <div ng-repeat="org in orgCtrl.organizations | orderBy:'name'">
        <ul class="list-group">
            <li class="list-group-item">
                <div th:include="::organization"></div>
            </li>
        </ul>
    </div>
</div>

</body>
</html>

